<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core">

<h:body>
	<h1>Welcome!!!</h1>

	<label>User:</label>
	<span>#{loginBean.user.username}</span>
	<br />
	<label>Email:</label>
	<span>#{loginBean.user.email}</span>

	<h1>Your to-do list is below. JUST DO IT!!!!!!!</h1>

	<h:dataTable value="#{loginBean.user.todolists}" var="list"
		styleClass="order-table" headerClass="order-table-header"
		rowClasses="order-table-odd-row,order-table-even-row">

		<h:column>
			<!-- column header -->
			<f:facet name="header">Description</f:facet>
			<!-- row record -->
    				#{list.description}
    	</h:column>

		<h:column>
			<f:facet name="header">Date completed</f:facet>
    				#{list.datecompleted}
    	</h:column>

		<h:column>
			<f:facet name="header">Due date</f:facet>
    				#{list.duedate}
    	</h:column>

		<h:column>
			<f:facet name="header">Priority</f:facet>
    				#{list.priorityid}
    	</h:column>
    	
    	<h:column>
			<f:facet name="header">Status</f:facet>
    				#{list.todostatus.statustype}
    	</h:column>

	</h:dataTable>
	
	<h:form>
		<h:commandButton action="#{reportBean.getReport}" >
    		<f:setPropertyActionListener target="#{reportBean.action}" value="#{loginBean.user.username}" />
		</h:commandButton>
    </h:form>
</h:body>
</html>